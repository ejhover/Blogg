extends layout.pug 

mixin post(id, author, title, published, content)
    .post
        #admin-failure 
            h2 Edit/Delete Failed!
            span#admin-errors
        .post-header
            h2.post-title #{title}
            a.post-author(href=`/user/${author}`) #{author}
            p.post-date #{(published).split(" ")[0]} | #{(published).split(" ")[1]}
        hr
        .post-content
            p #{content.substring(0, 200)} 
            a(href=`/post/${id}`)
                b Show More...

block content
    h1 Posts
    if posts.length == 0
        h2#no-posts No posts.
    else
        each post in posts
            +post(post.id, post.author, post.title, post.published, post.content)

block footer 
    if posts.length != 0
        if (page-1) > 0
            a(href=`/home/${page-1}`)
                h3 Previous Page
        if posts.length == 5
            a(href=`/home/${page+1}`)
                h3 Next Page
    else 
        if (page-1) > 0
            a(href=`/home/${page-1}`)
                h3 Previous Page
        else 
            a(href="/home")
                h3 Home Page